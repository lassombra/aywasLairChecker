<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
<p>Welcome to the new home of lassombra's lair checker. The current version is available below. As of right now, the
	lair checker comes in one variety which is a client side implementation only. This is just a bookmarklet.  I do have
	two bookmarklets.  The Lair Checker reports only duplicates.  The Lair Lister reports all pets you have grouped by
	species and type.  The Checker is great for finding candidates to trade and/or use various replace pet items.  The
	lister is great for finding out <b>if</b> you have a specific type of pet and helping you <b>find</b> that pet.
</p>
<p>
	What is a bookmarklet anyways? I'm sure you're already asking that. Simply put, they are javascript applications
	that are linked in a bookmark. Bookmarklets provide simple application that run in your browser without a lot of
	overhead or install. They generally have a limited scope and often exist to manage data on a specific site. In this
	case, we're talking about managing data on Aywas. To install a bookmarklet you simply have to do one of the
	following:
</p>
<ul>
	<li>Drag the version you'd like to use onto your bookmarks tab. (Not all browsers allow this method)</li>
	<li>Do the following:
		<ul>
			<li>Right click on the version you would like to use and select copy link or copy shortcut.</li>
			<li>Click on your bookmarks menu and select add Bookmark.</li>
			<li>Paste the copied info in the "link" or "page" box.</li>
		</ul>
	</li>
</ul>
<p>
	<a href="javascript:(function(){var%20process%20=%20function%20()%20%7B%0A%20%20%20%20var%20page%20=%201,%20petsTable%20=%20%5B%5D,%20resultsTable%20=%20%7B%7D,%20userID,%20version%20=%20%220.12%22,%20phoneHome%20=%20false,%20remoteVersion,%0A%20%20%20%20%20%20%20%20versionCheckComplete%20=%20false,%20versionAnswer;%0A%0A%20%20%20%20function%20versionCheck()%20%7B%0A%20%20%20%20%20%20%20%20versionCheckComplete%20=%20true;%0A%20%20%20%20%20%20%20%20versionAnswer%20=%20$('%3Cdiv%3E%3C/div%3E');%0A%20%20%20%20%20%20%20%20versionAnswer.append($('%3Cp%20class=%22keep%22%3EThis%20version%20may%20be%20out%20of%20date.%20%20For%20a%20short%20period%20of%20time,%20automatic%20update%20checking%20will%20be%20unavailable.%3C/p%3E'));%0A%20%20%20%20%20%20%20%20versionAnswer.append($('%3Cp%20class=%22keep%22%3EPlease%20go%20to%20the%20%3Ca%20href=%22http://www.aywas.com/forum/topic/2004464391/1/%22%3ELair%20Checker%20thread%3C/a%3E%20for%20update%20information.%3C/p%3E'));%0A%20%20%20%20%20%20%20%20//%20$.ajax(%22http://aywaslairchecker.net/bookmarklets/lite/version.js%22,%20%7BdataType:%22text%22,%20cache:false,%20error:function()%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20versionCheckComplete%20=%20true;%0A%20%20%20%20%20%20%20%20//%20%7D,%20success:function(text)%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20var%20data%20=%20$.parseJSON(text);%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20remoteVersion%20=%20data.currentVersionNew;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20if%20(remoteVersion%20!==%20version)%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20var%20ref%20=%22http://aywaslairchecker.net/bookmarklets/lite/lite-%22;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20if%20(phoneHome)%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20ref%20=%20ref%20+%20%22checkin-%22;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20ref%20=%20ref%20+%20%22min.bm.js%22;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20$.ajax(ref,%20%7BdataType:%22text%22,%20cache:false,%20error:function()%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionCheckComplete%20=%20true;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%7D,%20success:function(text)%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionAnswer%20=%20$('%3Cdiv%3E%3C/div%3E');%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionAnswer.append($('%3Cp%20class=%22keep%22%3EThis%20version%20is%20out%20of%20date.%20%20The%20current%20version%20is%20V'+remoteVersion+'%3C/p%3E'));%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionAnswer.append($('%3Cp%20class=%22keep%22%3E'+data.updateMessage+'%3C/p%3E'));%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20var%20a%20=%20$('%3Ca%20href=%22'+text+'%22%3EAywas%20Lair%20Checker%20V'+remoteVersion+'%3C/a%3E');%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionAnswer.append(a);%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%20%20%20%20versionCheckComplete%20=%20true;%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20%7D%7D);%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20else%7BversionCheckComplete%20=%20true;%7D%0A%20%20%20%20%20%20%20%20//%20%7D%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20generateOutput()%20%7B%0A%20%20%20%20%20%20%20%20if%20(!versionCheckComplete)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.setTimeout(generateOutput,%20100);%0A%20%20%20%20%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20//%20if%20(phoneHome)%20%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20$.ajax(%7B%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20url:%20%22http://aywaslairchecker.net/checkin.php%22,%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20data:%20%7Bid:%20userID,%20version:%20version,%20lite:%20true%7D,%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%20%20%20%20cache:%20false%0A%20%20%20%20%20%20%20%20//%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20//%20%7D%0A%20%20%20%20%20%20%20%20var%20output%20=%20document.createElement('div'),%20k,%20ul,%20li,%20a,%20i;%0A%20%20%20%20%20%20%20%20for%20(k%20in%20resultsTable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(resultsTable.hasOwnProperty(k))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(resultsTable%5Bk%5D.length%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ul%20=%20document.createElement('ul');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(ul).text(k);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20resultsTable%5Bk%5D.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20li%20=%20document.createElement('li');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%20=%20document.createElement('a');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(a).text(resultsTable%5Bk%5D%5Bi%5D.name);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(a).attr(%22href%22,%20%22http://www.aywas.com/pp/view/%22%20+%20resultsTable%5Bk%5D%5Bi%5D.id%20+%20%22/%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(li).append(a);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(ul).append(li);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(output).append(ul);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20$('title').text(%22Aywas%20Lair%20Checker%20-%20Results%22);%0A%20%20%20%20%20%20%20%20if%20(versionAnswer)%0A%20%20%20%20%20%20%20%20%20%20%20%20$('body').append(versionAnswer);%0A%20%20%20%20%20%20%20%20$('body').append($(output));%0A%20%20%20%20%20%20%20%20$('p:not(%22.keep%22)').hide().queue(function%20(next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20$(this).remove();%0A%20%20%20%20%20%20%20%20%20%20%20%20next();%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addTable(element)%20%7B%0A%20%20%20%20%20%20%20%20var%20breed,%20id,%20name;%0A%20%20%20%20%20%20%20%20breed%20=%20$(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text().split('%20the%20');%0A%20%20%20%20%20%20%20%20breed%20=%20breed%5Bbreed.length%20-%201%5D;%0A%20%20%20%20%20%20%20%20breed%20=%20breed.trim().split('(');%0A%20%20%20%20%20%20%20%20breed.splice(breed.length%20-%201,%201);%0A%20%20%20%20%20%20%20%20breed%20=%20breed.join('(');%0A%20%20%20%20%20%20%20%20breed%20=%20breed.trim().replace(/%5E%5Cs*%5CS*(Male%7CFemale%7CAndrogynous%7CHermaphrodite%7CUndecided%7CRobot%7CGenderless%7CAgender%7CBigender%7CGenderqueer%7CNeutrois%7CPangender%7CGenderfluid%7CNon-Binary%7CIntersex%7COther)/i,%20%22%22).trim();%0A%20%20%20%20%20%20%20%20id%20=%20Number($(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text().split('(').pop().match(/%5Cd+/ig)%5B0%5D);%0A%20%20%20%20%20%20%20%20name%20=%20$(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text();%0A%20%20%20%20%20%20%20%20if%20(!breed.match(/Custom/ig))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!resultsTable%5Bbreed%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resultsTable%5Bbreed%5D%20=%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20resultsTable%5Bbreed%5D.push(%7Bid:%20id,%20name:%20name%7D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addTables()%20%7B%0A%20%20%20%20%20%20%20%20var%20i;%0A%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20petsTable.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20addTable(petsTable%5Bi%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20generateOutput();%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20fetchPage()%20%7B%0A%20%20%20%20%20%20%20%20$('body').append($(%22%3Cp%3ELoading%20page%20%22%20+%20page%20+%20%22.%20%20Pets%20loaded%20so%20far:%20%22%20+%20petsTable.length%20+%20%22%3C/p%3E%22));%0A%20%20%20%20%20%20%20%20$('title').text(%22Aywas%20Lair%20Checker:%20Loading%20page%20%22%20+%20page%20+%20%22.%20%20Pets%20loaded%20so%20far:%20%22%20+%20petsTable.length);%0A%20%20%20%20%20%20%20%20var%20listUrl%20=%20%22http://www.aywas.com/lair/group/%22%20+%20userID%20+%20%22/all/?p=%22%20+%20page%20+%20%22&l=240%22,%20pageResult%20=%20%5B%5D,%20i;%0A%20%20%20%20%20%20%20%20$.ajax(listUrl,%20%7BdataType:%20%22text%22,%20success:%20function%20(xml)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%20=%20xml.replace(/%3C%5B%5E%5C/%3C%3E%5D*img%5B%5E%3E%5D*%3E(%5B%5E%3C%5D*%3C%5B%5E%5C/%5Cw%5D*%5C/img%5B%5E%3E%5D*%3E)*/gi,%20%22%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20pageResult%20=%20$(xml).find('div#lair-sort-pets%20%3E%20div');%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20pageResult.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20petsTable.push(pageResult%5Bi%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20page%20=%20page%20+%201;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(pageResult.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fetchPage();%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$('body').append($(%22%3Cp%3ELoad%20complete.%20%20Loaded%20%22%20+%20petsTable.length%20+%20%22%20pets.%3C/p%3E%22));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addTables();%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20getUserID()%20%7B%0A%20%20%20%20%20%20%20%20userID%20=%20$(%22div#side%20%3E%20h3%20%3E%20a%22);%0A%20%20%20%20%20%20%20%20if%20(userID%20&&%20userID.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20userID%20=%20Number(userID.attr('href').match(/%5Cd+/i)%5B0%5D);%0A//%20%20%20%20%20%20%20%20%20%20%20%20userID=1165;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20scripts%20=%20document.getElementsByTagName('script');%0A%20%20%20%20while%20(scripts.length)%20%7B%0A%20%20%20%20%20%20%20%20scripts%5B0%5D.parentElement.removeChild(scripts%5B0%5D);%0A%20%20%20%20%7D%0A%20%20%20%20scripts%20=%20document.getElementsByTagName('link');%0A%20%20%20%20while%20(scripts.length)%20%7B%0A%20%20%20%20%20%20%20%20scripts%5B0%5D.parentElement.removeChild(scripts%5B0%5D);%0A%20%20%20%20%7D%0A%20%20%20%20var%20script%20=%20document.createElement('script');%0A%20%20%20%20script.src%20=%20%22//code.jquery.com/jquery-1.10.2.min.js%22;%0A%20%20%20%20script.type%20=%20%22text/javascript%22;%0A%20%20%20%20script.onload%20=%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20getUserID();%0A%20%20%20%20%20%20%20%20$('body').remove();%0A%20%20%20%20%20%20%20%20$('html').append($('%3Cbody%3E%3C/body%3E'));%0A%20%20%20%20%20%20%20%20$('body').append($('%3Ch1%3EAywas%20Lair%20Checker%20V'%20+%20version%20+%20'%3C/h1%3E'));%0A%20%20%20%20%20%20%20%20window.setTimeout(versionCheck,%201);%0A%20%20%20%20%20%20%20%20fetchPage();%0A%20%20%20%20%7D;%0A%20%20%20%20document.getElementsByTagName('head')%5B0%5D.appendChild(script);%0A//%20%20%20%20window.setTimeout(function()%7B%0A//%20%20%20%20%20%20%20%20getUserID();%0A//%20%20%20%20%20%20%20%20$('body').remove();%0A//%20%20%20%20%20%20%20%20$('html').append($('%3Cbody%3E%3C/body%3E'));%0A//%20%20%20%20%20%20%20%20$('body').append($('%3Ch1%3EAywas%20Lair%20Checker%20V'+version+'%3C/h1%3E'));%0A//%20%20%20%20%20%20%20%20fetchPage();%0A//%20%20%20%20%7D,%20500);%0A%7D;%0Aif%20(!(location.host.match(/.*aywas.*/ig)%20&&%20location.host.match(/.*aywas.*/ig).length)%20&&%20!(location.hostname.match(/.*aywas.*/ig)%20&&%20location.hostname.match(/.*aywas.*/ig).length))%20%7B%0A%20%20%20%20alert(%22Please%20re-run%20this%20bookmarklet%20from%20Aywas.com!%22);%0A%20%20%20%20location.href%20=%20%22http://www.aywas.com/%22;%0A%7D%0Aelse%7B%0A%20%20%20%20process();%0A%7D%0A})();">
		Aywas Lair Checker
	</a>
	<a href="javascript:(function(){var%20process%20=%20function%20()%20%7B%0A%20%20%20%20var%20page%20=%201,%20petsTable%20=%20%5B%5D,%20resultsTable%20=%20%7B%7D,%20userID,%20version%20=%200.12,%20phoneHome%20=%20false,%20remoteVersion,%0A%20%20%20%20%20%20%20%20versionCheckComplete%20=%20false,%20versionAnswer;%0A%0A%20%20%20%20function%20versionCheck()%20%7B%0A%20%20%20%20%20%20%20%20versionCheckComplete%20=%20true;%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20generateOutput()%20%7B%0A%20%20%20%20%20%20%20%20if%20(!versionCheckComplete)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.setTimeout(generateOutput,%20100);%0A%20%20%20%20%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20count%20=%200;%0A%20%20%20%20%20%20%20%20for%20(c%20in%20resultsTable)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20count%20+=%20resultsTable%5Bc%5D.length;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20output%20=%20document.createElement('div'),%20k,%20ul,%20li,%20a,%20i;%0A%20%20%20%20%20%20%20%20ul%20=%20document.createElement('p');%0A%20%20%20%20%20%20%20%20$(ul).text(%22Total%20pets:%20%22+count);%0A%20%20%20%20%20%20%20%20$(ul).addClass('keep');%0A%20%20%20%20%20%20%20%20$(output).append(ul);%0A%20%20%20%20%20%20%20%20for%20(k%20in%20resultsTable)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(resultsTable.hasOwnProperty(k))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(resultsTable%5Bk%5D.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ul%20=%20document.createElement('ul');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(ul).text(k);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20resultsTable%5Bk%5D.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20li%20=%20document.createElement('li');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%20=%20document.createElement('a');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(a).text(resultsTable%5Bk%5D%5Bi%5D.name);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(a).attr(%22href%22,%20%22http://www.aywas.com/pp/view/%22%20+%20resultsTable%5Bk%5D%5Bi%5D.id%20+%20%22/%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(li).append(a);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(ul).append(li);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20$(output).append(ul);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20$('title').text(%22Aywas%20Lair%20Checker%20-%20Results%22);%0A%20%20%20%20%20%20%20%20if%20(versionAnswer)%0A%20%20%20%20%20%20%20%20%20%20%20%20$('body').append(versionAnswer);%0A%20%20%20%20%20%20%20%20$('body').append($(output));%0A%20%20%20%20%20%20%20%20$('p:not(%22.keep%22)').hide().queue(function%20(next)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20$(this).remove();%0A%20%20%20%20%20%20%20%20%20%20%20%20next();%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addTable(element)%20%7B%0A%20%20%20%20%20%20%20%20var%20breed,%20id,%20name;%0A%20%20%20%20%20%20%20%20breed%20=%20$(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text().split('%20the%20');%0A%20%20%20%20%20%20%20%20breed%20=%20breed%5Bbreed.length%20-%201%5D;%0A%20%20%20%20%20%20%20%20breed%20=%20breed.trim().split('(')%5B0%5D.trim().replace(/%5E%5Cs*%5CS*(Male%7CFemale%7CAndrogynous%7CHermaphrodite%7CUndecided%7CRobot)/i,%20%22%22).trim();%0A%20%20%20%20%20%20%20%20id%20=%20Number($(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text().split('(').slice(-1)%5B0%5D.match(/%5Cd+/ig)%5B0%5D);%0A%20%20%20%20%20%20%20%20name%20=%20$(element).find(%22.gen-small%20%3E%20a%20%3E%20strong%22).text();%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!resultsTable%5Bbreed%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resultsTable%5Bbreed%5D%20=%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20resultsTable%5Bbreed%5D.push(%7Bid:%20id,%20name:%20name%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addTables()%20%7B%0A%20%20%20%20%20%20%20%20var%20i;%0A%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20petsTable.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20addTable(petsTable%5Bi%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20generateOutput();%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20var%20pagesRunning%20=%200;%0A%20%20%20%20function%20fetchPage()%20%7B%0A%20%20%20%20%20%20%20%20$('body').append($(%22%3Cp%3ELoading%20page%20%22%20+%20page%20+%20%22.%20%20Pets%20loaded%20so%20far:%20%22%20+%20petsTable.length%20+%20%22%3C/p%3E%22));%0A%20%20%20%20%20%20%20%20$('title').text(%22Aywas%20Lair%20Checker:%20Loading%20page%20%22%20+%20page%20+%20%22.%20%20Pets%20loaded%20so%20far:%20%22%20+%20petsTable.length);%0A%20%20%20%20%20%20%20%20var%20listUrl%20=%20%22http://www.aywas.com/lair/group/%22%20+%20userID%20+%20%22/all/?p=%22%20+%20page%20+%20%22&l=240%22,%20pageResult%20=%20%5B%5D,%20i;%0A%20%20%20%20%20%20%20%20$.ajax(listUrl,%20%7BdataType:%20%22text%22,%20success:%20function%20(xml)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20pagesRunning%20+=%201;%0A%20%20%20%20%20%20%20%20%20%20%20%20page%20=%20page%20+%201;%0A%20%20%20%20%20%20%20%20%20%20%20%20xml%20=%20xml.replace(/%3C%5B%5E%5C/%3C%3E%5D*img%5B%5E%3E%5D*%3E(%5B%5E%3C%5D*%3C%5B%5E%5C/%5Cw%5D*%5C/img%5B%5E%3E%5D*%3E)*/gi,%20%22%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20pageResult%20=%20$(xml).find('div#lair-sort-pets%20%3E%20div');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(pageResult.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fetchPage();%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20=%200;%20i%20%3C%20pageResult.length;%20i%20+=%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20petsTable.push(pageResult%5Bi%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20pagesRunning%20-=%201;%0A%20%20%20%20%20%20%20%20%20%20%20%20page%20=%20page%20+%201;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!pageResult.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//End%20load%20watches%20for%20pages%20running%20to%20be%200%20and%20then%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20endLoad();%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%7D%7D);%0A%20%20%20%20%7D%0A%20%20%20%20function%20endLoad()%7B%0A%20%20%20%20%20%20%20%20if%20(pagesRunning%20%3E%200)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.setTimeout(endLoad,100);%0A%20%20%20%20%20%20%20%20%7Delse%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20$('body').append($(%22%3Cp%3ELoad%20complete.%20%20Loaded%20%22%20+%20petsTable.length%20+%20%22%20pets.%3C/p%3E%22));%0A%20%20%20%20%20%20%20%20%20%20%20%20addTables();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20function%20getUserID()%20%7B%0A%20%20%20%20%20%20%20%20userID%20=%20$(%22div#side%20%3E%20h3%20%3E%20a%22);%0A%20%20%20%20%20%20%20%20if%20(userID%20&&%20userID.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20userID%20=%20Number(userID.attr('href').match(/%5Cd+/i)%5B0%5D);%0A//%20%20%20%20%20%20%20%20%20%20%20%20userID=1165;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20scripts%20=%20document.getElementsByTagName('script');%0A%20%20%20%20while%20(scripts.length)%20%7B%0A%20%20%20%20%20%20%20%20scripts%5B0%5D.parentElement.removeChild(scripts%5B0%5D);%0A%20%20%20%20%7D%0A%20%20%20%20scripts%20=%20document.getElementsByTagName('link');%0A%20%20%20%20while%20(scripts.length)%20%7B%0A%20%20%20%20%20%20%20%20scripts%5B0%5D.parentElement.removeChild(scripts%5B0%5D);%0A%20%20%20%20%7D%0A%20%20%20%20var%20script%20=%20document.createElement('script');%0A%20%20%20%20script.src%20=%20%22//code.jquery.com/jquery-1.10.2.min.js%22;%0A%20%20%20%20script.type%20=%20%22text/javascript%22;%0A%20%20%20%20script.onload%20=%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20getUserID();%0A%20%20%20%20%20%20%20%20$('body').remove();%0A%20%20%20%20%20%20%20%20$('html').append($('%3Cbody%3E%3C/body%3E'));%0A%20%20%20%20%20%20%20%20$('body').append($('%3Ch1%3EAywas%20Lair%20Lister%3C/h1%3E'));%0A%20%20%20%20%20%20%20%20window.setTimeout(versionCheck,%201);%0A%20%20%20%20%20%20%20%20fetchPage();%0A%20%20%20%20%7D;%0A%20%20%20%20document.getElementsByTagName('head')%5B0%5D.appendChild(script);%0A//%20%20%20%20window.setTimeout(function()%7B%0A//%20%20%20%20%20%20%20%20getUserID();%0A//%20%20%20%20%20%20%20%20$('body').remove();%0A//%20%20%20%20%20%20%20%20$('html').append($('%3Cbody%3E%3C/body%3E'));%0A//%20%20%20%20%20%20%20%20$('body').append($('%3Ch1%3EAywas%20Lair%20Checker%20V'+version+'%3C/h1%3E'));%0A//%20%20%20%20%20%20%20%20fetchPage();%0A//%20%20%20%20%7D,%20500);%0A%7D;%0Aif%20(!(location.host.match(/.*aywas.*/ig)%20&&%20location.host.match(/.*aywas.*/ig).length)%20&&%20!(location.hostname.match(/.*aywas.*/ig)%20&&%20location.hostname.match(/.*aywas.*/ig).length))%20%7B%0A%20%20%20%20alert(%22Please%20re-run%20this%20bookmarklet%20from%20Aywas.com!%22);%0A%20%20%20%20location.href%20=%20%22http://www.aywas.com/%22;%0A%7D%0Aelse%7B%0A%20%20%20%20process();%0A%7D%0A})();">
		Aywas Lair Lister
	</a>
</p>
<div>
	<h2>Version History:</h2>
	<p>
		V0.12
	</p>
	<ul>
		<li>Fix issue when a pet name has "img" in it.</li>
	</ul>
	<p>
		V0.11
	</p>
	<ul>
		<li>Fix issue causing parenthesis in pet names to break parsing.</li>
		<li>Remove "reporting" version. Only non-phone hom version for now.</li>
		<li>Remove update check temporarily in favor of pointing users to the forum thread to check for updates.</li>
	</ul>
	<p>V0.10</p>
	<ul>
		<li>Added update message to allow for critical messages to be shared with updates.</li>
		<li>Message indicating bug for update advisor will remain in place in prior versions.</li>
	</ul>
	<p>
		V0.9
	</p>
	<ul>
		<li>Fixed update advisor to provide a working link for the new version.</li>
	</ul>
	<p>
		V0.8
	</p>
	<ul>
		<li>Added support for new genders.</li>
	</ul>
	<p>
		V0.7
	</p>
	<ul>
		<li>Cleaned up usability significantly. Now should load all pages much faster.</li>
		<li>Fixed memory leak that could crop up with larger lairs.</li>
	</ul>
	<p>
		V0.6
	</p>
	<ul>
		<li>Added exactly <strong>1</strong> line of code to remove infinite loop in v0.5</li>
	</ul>
	<p>
		V0.5
	</p>
	<ul>
		<li>Implemented anonymous usage staticstics.</li>
		<li>Implemented automatic version anouncements.</li>
		<li>Minor preformance improvements.</li>
		<li>Expected to be last beta version.</li>
	</ul>
	<p>
		V0.4
	</p>
	<ul>
		<li>Cleaned up the code</li>
		<li>Fixed gender detection to recognize undecided and robot genders</li>
	</ul>
	<p>
		V0.3
	</p>
	<ul>
		<li>Reworked output semantics to eliminate firefox trying to reload data it already had in an infinite loop.
		</li>
		<li>Provided title changes to reflect loading progress. (You can now switch to another tab, and when you see
			results in the tittle, switch back.)
		</li>
		<li>Made output code cleaner for faster execution.</li>
	</ul>
	<p>
		V0.2
	</p>
	<ul>
		<li>No longer loading images of every pet for no reason.</li>
		<li>No longer potentially attempting to process results before everything is loaded.</li>
		<li>Now provides feedback while loading so you know the link is working.</li>
		<li>Significant resource usage improvements.</li>
		<li>Now properly filters all "genders" (I think)</li>
		<li>Now properly filters "Northern" (doesn't filter them all as "Nor")</li>
		<li>Now ignores customs.</li>
	</ul>
</div>
</body>
</html>
<html>

</html>